import{s as b,L as o,b as y,a as L,r as s,j as e,O as k}from"./index-DDwkMyRQ.js";import{a as w}from"./movies-api-Fd7KCi40.js";import{C as S}from"./Container-BtKvtEGr.js";const M=b(o)`
  color: grey;
  display: block;
  padding-top: 10px;
`,R=()=>{var l;const{movieId:r}=y(),d=L(),h=s.useRef(((l=d.state)==null?void 0:l.from)??"/movies"),[x,j]=s.useState({}),[p,n]=s.useState(!1),[m,v]=s.useState(null);s.useEffect(()=>{(async()=>{try{n(!0);const i=await w(r);console.log("movie details:",i),j(i)}catch(i){v(i)}finally{n(!1)}})()},[r]);const{title:a,vote_average:f,overview:u,genres:t,poster_path:g}=x;return console.log(t),e.jsxs(S,{children:[e.jsx(M,{to:h.current,children:"Go back"}),e.jsx("h1",{children:"Movie details: "}),e.jsx("img",{src:g,alt:`poster of ${a} movie`}),e.jsxs("div",{children:[e.jsx("p",{children:e.jsx("b",{children:a})}),e.jsxs("p",{children:[e.jsx("b",{children:"User score:"})," ",f]}),e.jsxs("p",{children:[e.jsx("b",{children:"Overview:"})," ",u]}),e.jsxs("p",{children:[e.jsx("b",{children:"Genres: "}),t==null?void 0:t.map(({name:c})=>c).join(", ")]})]}),p&&e.jsx("p",{children:"...loading"}),m&&e.jsx("p",{children:"Oops! Something went wrong. Try again later, please."}),e.jsx("h2",{children:"Additional information"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(o,{to:"cast",children:"Cast"})}),e.jsx("li",{children:e.jsx(o,{to:"reviews",children:"Reviews"})})]}),e.jsx(s.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(k,{})})]})};export{R as default};
