import{r as e,j as t}from"./index-ST99t9e8.js";import{M as g}from"./MoviesList-Dtqm9kY0.js";import{C as x}from"./Container-Bd2n8EjL.js";import{g as j}from"./movies-api-Fd7KCi40.js";const C=()=>{const[o,l]=e.useState([]),[c,r]=e.useState(!1),[m,u]=e.useState(null),[a,p]=e.useState(1);let d;e.useEffect(()=>{(async()=>{try{r(!0);const s=await j(a);d=s.total_results,l(h=>[...h,...s.results])}catch(s){u(s)}finally{r(!1)}})()},[a]);const f=()=>{p(i=>i+1)},n=!!o.length;return t.jsxs(x,{children:[t.jsx("h1",{children:"The most popular movies for today"}),n&&t.jsx(g,{items:o}),c&&t.jsx("p",{children:"...loading"}),m&&t.jsx("p",{children:"Oops! Something went wrong. Try again later, please."}),n&&t.jsx("button",{type:"button",onClick:f,children:"Load more"})]})};export{C as default};
